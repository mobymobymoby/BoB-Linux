### 2020/11/07
- 보안 점검 프로그램 및 매뉴얼 개발로 남은 프로젝트의 목표를 잡음

- 조성재 멘토님
    - 자신이 구현할 방법이 생각나는 아이디어 만이 진짜 아이디어
    - 일지를 작성할 것을 제안
    - 모방하는 것이 나쁜 것이 아니다. BoB 프로젝트의 대부분은 이미 있는 기술들임
    - 인문학에서 '고전'을 공부하듯이, 우리의 '고전'이 될 수 있는 프로그램이나 코드를 조사할 것

- 조민재 멘토님
    - lynis를 참고하라는 조언 : 우리가 만드려고 하는 보안 점검 프로그램과 흡사함
    
 ### 2020/11/08
 - 열심히 코딩을 한 하루

- BoB Linux 기본 학습 트레이닝 기능을 마무리 하기 위해 여러 가지 코드를 작성
    - Bob Linux 시작시 바탕화면에 위치할 README 파일
    - 트레이닝 기능을 수행할 main 코드와 기초 명령어, 심화 명령어 코드 작성
    - 4시간 정도를 코딩에 소모

- 회의록 작성
    - 10/31, 11/6, 11/7 회의록이 작성되지 않은 상태
    - 간단하게 회의 내용을 요약하여 회의록을 작성
    
 ### 2020/11/09
 - 아침
    - Lynis를 apt로 다운로드 받아 실행해봄
    - 소스 코드를 분석해봄 : 쉘 스크립트라 이해가 어려움([https://github.com/CISOfy/lynis/blob/master/lynis](https://github.com/CISOfy/lynis/blob/master/lynis))
        - 쉘 스크립트에 관한 내용 학습([https://shlee1990.tistory.com/917](https://shlee1990.tistory.com/917))
    - apt 실행 결과 우분투 18.04 버전과 BoB Linux의 보안 평가가 흡사함
    - WBS, 수행계획서, 개발계획서 수정(Ver 4.0)
    - 주간 보고서 작성

- 회의

### 2020/11/11
회의 진행
- 보안 점검 프로그램, 트레이닝 기능에 대한 생각

트레이닝 프로그램 컴파일
- 오류 없이 빌드 성공
- 하지만 아직 고쳐야할 문제들이 존재
  - 가독성
  - 오타
  - 오류

### 2020/11/12
트레이닝 기능 점검

- 내 코드 점검
    - 가독성 향상
    - 오류는 발견되지 않음

회의(PL)
- 트레이닝 기능과 보안 점검 프로그램은 연관성이 없이 따로 노는 느낌
    - 또한 BoB Linux 개발이라는 주제와도 어울리지 않음
    
- BoB Linux를 트레이닝 기능을 돌리기 위한 목적으로 사용하기로 함
    - 주제와 트레이닝 기능을 가져갈 수 있음
    - 배포판 무게 최소화
    - 트레이닝 이외에 host를 제어할 수 없도록 환경 세팅
 
 ### 2020/11/13
 트레이닝 기능 코드 점검
- run_command 계열 코드에 사용된 strcmp / strlen 관련 코드 점검
    - strlen이 사용된 코드는 필요 없는 코드로 확인 → 삭제
    - strcmp가 사용된 코드는 strncmp로 대체하려 했으나 문제 발생
        - cmd와 valid_cmd 둘 중 하나의 크기로 비교를 제한하면 잘못된 비교가 발생
            - cmd를 기준으로 맞추면, valid_cmd의 일부분만 입력해도 맞다고 해버림
            - valid_cmd를 기준으로 맞추면 앞부분만 valid_cmd와 일치하면 맞다고 해버림
        - 해결 완료. 조건문을 하나 추가하여 길이를 검사하면 해결
- 심화 명령어 트레이닝에서 문자열을 받아 함수를 실행시키는 부분의 strcmp 수정
    - 보안을 위해 strncmp를 사용함
- 이외에도 보안에 취약한 함수 전체적으로 수정
- main 프로그램 메뉴 입력 변경
    - 0을 입력하면 종료 → q 또는 Q를 입력하면 종료

해커스쿨 체험
- 트레이닝 10단계까지 모두 완료
    - 레벨10까지 완료
    
### 2020/11/14
회의록 정리
- 9일, 11일, 12일 14일 회의록 정리

트레이닝 기능 재정비 
- 개행, 공백 등 완성도를 높이기 위한 작업
- 내용상 부족한 부분 체크
- 여러 가지 함수들에 대한 오류 체크 및 가독성 보완
- 프롬프트 / 롱 옵션 표기법 설명

다양한 배포판의 용량 조사
- BoB Linux는 용량적으로 꽤나 이점이 있다고 판단됨
    - BoB Linux : vdi 용량 1.76gb / ova 용량 690mb
    - LFS : vdi 용량 3gb / ova 내보내기 시 1.3gb
    - Ubuntu Server : iso 용량 850mb 설치시 vdi 용량 2.8gb
    - Ubuntu mini : iso 용량 64mb 설치시 vdi 용량 3.5gb
- 압축시 용량은 더욱 줄어들 것으로 예상

### 2020/11/15
BoB Linux 개선
- 트레이닝 기능 방향성 회의
- 해상도 조정, 글씨 폰드 변경, 한글 출력 구현 완료
- training_intro, main.c 등 트레이닝 기능의 가독성 향상 작업
- 기본 명령어 보완 작업 배분 : 각 35개씩 보완 작업

### 2020/11/16
멘티 전체 회의
- 각 팀의 방향성 및 일정 확인
- 각 팀의 진행 사항 확인
- 회의록 작성
- 주간보고서 작성

### 2020/11/17
리눅스 init account installer 구현
- 쉘 스크립트 이용
    - 총 3개의 쉘 파일로 두 개의 계정을 사용하여 root 계정을 쓰지 않고 계정 생성
    - 도중에 인터럽트를 방지하여 취약점을 막음
    - root 계정으로 로그인 하는 부분이 없고, sudo를 최소한으로 사용하여 구성
    - 원래 sudoers 파일에 실습 때 이용하는 명령어만 있어야 하지만, 일단은 트레이닝 기능 구현 중이므로 ALL user에게 sudo 부여

init account installer와 해상도, 글씨 크기, 한글 폰트가 적용된 2차 발표 배포판 완성
- 구글 드라이브에 업로드함
- 링크 : https://drive.google.com/file/d/1D4Z6gJWNHxbOacYgPnyX2AYRVb5F2hUU/view?usp=sharing


### 2020/11/18
- 리눅스 init account installer 보완
- 회의 진행
- 피피티 제작
- ova 파일 배포 준비
- 리눅스 기본 학습 명령어 보완

### 2020/11/19 
- 리눅스 기본 학습 명령어 보완
- PPT 보완
- 리눅스 보완
- ova 파일 배포(Ver 0.2.0)

### 2020/11/20
- 멘토링
- 회의
  - 취약점 환경 구성 아이디어 도출(보안 점검 프로그램)
- PPT 완성
- 발표 준비
- fbterm 동작 방식 변경(/etc/bash.bashrc -> /etc/profile / fbterm에서 exit시 바로 로그인으로 넘어가게)

### 2020/11/21 
- 프로젝트 2차 발표

### 2020/11/22
- 변경된 fbterm 동작 방식에 맞춰 init 쉘 스크립트 수정
- WSL에서의 트레이닝 기능 동작 확인
- su를 통해 유저 변경하였을 경우, 트레이닝에서 사용자가 이전 유저로 출력되는 문제 해결

### 2020/11/23
- 회의록 작성
- init 쉘 스크립트 수정
- 각종 오류 개선
- 주간보고서 작성

### 2020/11/24
- main.c 개편
  - 메뉴를 고르는 while문을 별도의 함수인 select_menu()로 만들어서 호출
  - select_menu() 함수에서는 run_command와 같은 입력값 검증 방식으로 잘못된 입력값을 확인함
  - 기존에는 char형 변수로 getchar()를 이용해 값을 입력받았음
    - '1'을 입력해야 하는데, '12'를 입력해도 '1'번이 선택됨
    - 따라서 엄격한 입력값을 적용
    - 하지만 코드의 길이가 길어져서 따로 함수로 뺀 것임
    
  - program_information() 함수 생성
    - 트레이너에 대한 정보 입력  
- 심화 명령어 학습 목록 정렬
- 명령어 트레이닝 보완

### 2020/11/25
- 트레이닝 팀 회의
  - 마지막으로 프로토콜 확립
  - 로드맵 프로토타입 구성
  - 금요일까지 트레이닝 마친 후 회의 예정(오후 10시)
- 기본 명령어 보완 

### 2020/11/26
- BoB Linux 쉘 스크립트 수정
  - 기존에 새로운 계정을 만든 후 재부팅할 때 rookie 계정으로 로그인하면 문제 생김
  - 따라서 init_account1과 2에서 rookie 계정의 패스워드를 변경하면서 계정을 잠금
  - rookie 계정 계속 사용시 sudoers 관련 문제 해결  
- 시작시 부팅 메시지 제거
- 시작시 오류 메시지 해결 : 커널 업데이트
  - 5.8.0-29-generic으로 업데이트

### 2020/11/27
- 명령어 보완 작업 수행
- 오후 10시 트레이닝 팀 회의

### 2020/11/28
- 전날 시작된 회의 진행
- 06:00에 모든 트레이닝 기능 점검 완료
- BoB Linux를 USB로 옮기는 작업 테스트
  - dd 명령어 이용 파티션 자체를 복사
  
### 2020/11/29
- init account installer 수정
  - /etc/bash.bashrc 대신 ~/.bashrc를 사용
    - 계정 생성 도중 다른 계정으로 로그인해도 정상적으로 작동
  - 부가효과 : 마지막 메시지 한글로 출력 가능해짐
- 멘토님 서버에 nginx 웹 서버 구축
  - 다운로드 링크 첨부 가능
  - 서버에 파일 옮길 때는 네이버에서 내게 쓴 파일로 링크 복사해서 wget
  
### 2020/11/30
- 서버 관련 시도
- 로드맵 관련 조사
- 주간 보고서 작성

### 2020/12/01
- Linux & 트레이닝 팀 일정 정하기
- 로드맵 관련 프레임 작성
- 역할 분담

### 2020/12/02
- 보안 관제 직업군 작성

### 2020/12/03
- 직업군 로드맵 완성
- 보안 교육 프로그램 로드맵 완성
- 리눅스 및 트레이닝 기능 팀 일정 논의
- 깃랩 구축 논의(깃랩에 대용량 파일 업로드)

### 2020/12/04
- 로드맵 전체 완성
- 트레이닝 팀 회의 - 로드맵 점검 완료
- 앞으로의 일정 구상
- 2020-12-05에 회의를 보고 결정

### 2020/12/05
- 전체 팀 회의
  - 앞으로의 일정
  - 진행사항 공유

### 2020/12/06
- 보안 취약 환경 거의 완료

### 2020/12/07
- 보안 취약 환경 1차 완료 후 Ver 0.2.4 ova 만듦
- lfs 클론 안되는 문제 해결
```
dd if=/dev/zero of=/var/swap.img bs=1M count=4096
chmod 0600 /var/swap.img
mkswap /var/swap.img
swapon /var/swap.img
```
ㄴ 가상 메모리를 추가하여 클론 진행

### 2020/12/08
- 트레이닝 팀 다음 회의 일정 잡음

### 2020/12/09
- 전체 팀 회의
- 트레이닝 팀 회의
  - 남은 기간 동안 구현할 것들 생각
    - ssh, sftp, fg, bg 트레이닝 기능
    - BoB-Linux 설치 매뉴얼
- 다음 멘토링 일정 잡기
  - 토요일 20시

### 2020/12/10
- BoB Linux 설치 매뉴얼 작성
- init account installer 수정
  - rookie 계정을 삭제하는 방식에서 유지하는 방식으로 수정
  - 구버전 스크립트는 내 작업 디렉토리로 이동
- 보안 점검 스크립트 U_36번과 관련된 조치 사항
  - 오류 뜨는 것 때문에 주석처리 했던 것들 주석 해제

### 2020/12/11
- 보안 점검 프로그램 테스트 수행
```
1. 로고가 BoB Linux에서는 깨져보임

2. 모든 항목 출력 시 1~17번은 짤림 : 터미널 버퍼 늘려서 해결

3. 모든 항목 출력 시 어떤 점검 항목은 마지막에 개행이 되어 있어서 구분이 잘 되는데 또 어떤 점검 항목은 마지막에 개행이 안되어 있어서 구분이 잘 안됨(개인적으로 각 점검항목을 ====== 또는 *****으로 나누면 어떨까 생각)

4. 33번 점검 항목 실행 시 /bin/sh: 1: named: not fount 오류 발생(점검은 동작하는듯)

5. 보안 점검 프로그램 시작 시 clear를 주고 트레이닝 프로그램이랑 문구를 맞춰서 "본 보안 점검 프로그램은 KISA에서 발간한 주요통신기반시설 기술적 취약점 진단 평가 가이드를 참고하여 BoB 9th Team "Black Moon"에서 제작하였습니다."로 바꾸는건 어떨까 싶음
```
